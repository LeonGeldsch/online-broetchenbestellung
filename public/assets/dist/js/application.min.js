!function o(s,i,r){function a(t,e){if(!i[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},s[t][0].call(n.exports,function(e){return a(s[t][1][e]||e)},n,n.exports,o,s,i,r)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<r.length;e++)a(r[e]);return a}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./application/ScrollIndicator"),s=e("./application/XHR");!function(){new o.default;document.getElementById("login").addEventListener("click",function(e){e.preventDefault();e=new FormData;e.append("username","john"),e.append("password","aA1!1234"),(new s.default).post("http://localhost:8080/api/user/login",e)}),document.getElementById("logout").addEventListener("click",function(e){e.preventDefault();(new s.default).get("http://localhost:8080/api/user/logout")}),document.getElementById("create_post").addEventListener("click",function(e){e.preventDefault();e=new FormData;e.append("user_id","1"),e.append("title","Post Title with enough Chars"),e.append("content","Post Content, for some reason i need to type some more letters..."),(new s.default).post("http://localhost:8080/api/posts/create",e)}),document.getElementById("delete_post").addEventListener("click",function(e){e.preventDefault();(new s.default).delete("http://localhost:8080/api/posts/delete/1")}),document.getElementById("update_post").addEventListener("click",function(e){e.preventDefault();e=new FormData;e.append("title","New Title with enough Chars"),e.append("content","New Content, for some reason i need to type some more letters..."),(new s.default).update("http://localhost:8080/api/posts/update/1",e)})}()},{"./application/ScrollIndicator":2,"./application/XHR":3}],2:[function(e,t,n){"use strict";function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.addEventListener("scroll",this.eventListener)}var t,n,o;return t=e,(n=[{key:"eventListener",value:function(e){console.log(e)}}])&&s(t.prototype,n),o&&s(t,o),e}()},{}],3:[function(e,t,n){"use strict";function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindErrorEventHandler=this.bindErrorEventHandler.bind(this),this.bindSuccessEventHandler=this.bindSuccessEventHandler.bind(this),this.bindProgressEventHandler=this.bindProgressEventHandler.bind(this),this.onLoad=this.onLoad.bind(this),this.onProgress=this.onProgress.bind(this),this.Request=new XMLHttpRequest,this.token=this.getToken(),this.Request.onload=this.onLoad,this.Request.upload.addEventListener("progress",this.onProgress)}var t,n,o;return t=e,(n=[{key:"get",value:function(e){this.Request.open("GET",e),this.Request.setRequestHeader("AUTHORIZATION",this.token),this.Request.send()}},{key:"post",value:function(e,t){this.Request.open("POST",e),this.Request.setRequestHeader("AUTHORIZATION",this.token),this.Request.send(t)}},{key:"delete",value:function(e){this.Request.open("DELETE",e),this.Request.setRequestHeader("AUTHORIZATION",this.token),this.Request.send()}},{key:"update",value:function(e,t){this.Request.open("PUT",e),this.Request.setRequestHeader("AUTHORIZATION",this.token),this.Request.send(t)}},{key:"bindErrorEventHandler",value:function(e){this.errorEventHandler=e}},{key:"bindSuccessEventHandler",value:function(e){this.successEventHandler=e}},{key:"bindProgressEventHandler",value:function(e){this.progressEventHandler=e}},{key:"onLoad",value:function(){switch(this.Request.status){case 200:this.successEventHandler&&(this.successEventHandler(this.Request),console.log(this.Request.responseText));break;case 400:this.errorEventHandler&&(this.errorEventHandler(this.Request),console.log(this.Request.responseText))}this.updateToken(JSON.parse(this.Request.responseText))}},{key:"onProgress",value:function(e){this.progressEventHandler&&this.progressEventHandler(e)}},{key:"deleteToken",value:function(){this.delete_cookie("JWT","/","http://localhost:8080")}},{key:"getToken",value:function(){var e=document.cookie.split("; ").find(function(e){return e.startsWith("JWT=")});return void 0!==e?e.split("=")[1]:null}},{key:"updateToken",value:function(e){var t=e.jwt;void 0!==t&&((e=new Date).setTime(e.getTime()+3e5),e="expires="+e.toGMTString(),console.log(e),document.cookie="JWT=AUTHORIZE "+t+";path:/;domain:http://localhost:8080;"+e)}},{key:"delete_cookie",value:function(e,t,n){this.get_cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(n?";domain="+n:"")+";expires=Thu, 01 Jan 1970 00:00:01 GMT")}},{key:"get_cookie",value:function(t){return document.cookie.split(";").some(function(e){return e.trim().startsWith(t+"=")})}}])&&s(t.prototype,n),o&&s(t,o),e}()},{}]},{},[1]);